package process;

import java.io.*;
import java.util.*;

public class BookTicket 
{
	public String name="";
	public String busName="";
	public String seatPreference="";
	public int age=0;
	public String gender="";
	public String tempPreference="";
	public void getDetails()
	{
		Scanner s=new Scanner(System.in);
		System.out.println("Please enter your Name :");
		name=s.next();
		System.out.println("Please enter the Bus Name :");
		busName=s.next();
		System.out.println("Please enter your seat Preference (L,M,U,SL,SU) :");
		seatPreference=s.next();
		System.out.println("Please enter your age :");
		age=s.nextInt();
		System.out.println("Please enter your gender :");
		gender=s.next();
		System.out.println("Please enter the preferened Temperature (AC/NAC) :");
		tempPreference=s.next();
		
		if(age>60)
		{
			seatPreference="L";
		}
		ArrayList<String> passengerDetails=new ArrayList<String>();
		passengerDetails.add(name);
		passengerDetails.add(String.valueOf(age));
		passengerDetails.add(gender);
		passengerDetails.add(busName);
		passengerDetails.add(seatPreference);
		passengerDetails.add(tempPreference);
		
		if(Variables.countCnf<=Variables.maxCnfTicket)
		{
			String status="CNF";
			Variables.countCnf++;
			int pnr=getPNR();
			
			passengerDetails.add(status);
			passengerDetails.add(String.valueOf(pnr));
			passengerDetails.add(String.valueOf(Variables.countCnf));
			Variables.ticketCnf.put(pnr,passengerDetails);
			
			displayMsg(pnr);
		}
		else if(Variables.countRac<=Variables.maxRacTicket)
		{
			String status="RAC";
			Variables.countRac++;
			int pnr=getPNR();
			
			passengerDetails.add(status);
			passengerDetails.add(String.valueOf(pnr));
			passengerDetails.add(String.valueOf(Variables.countCnf));
			Variables.ticketRac.put(pnr,passengerDetails);
			
			displayMsg(pnr);
		}
		else if(Variables.countWl<=Variables.maxWlTicket)
		{
			String status="WL";
			Variables.countWl++;
			int pnr=getPNR();
			
			passengerDetails.add(status);
			passengerDetails.add(String.valueOf(pnr));
			passengerDetails.add(String.valueOf(Variables.countCnf));
			Variables.ticketWl.put(pnr,passengerDetails);
			
			displayMsg(pnr);
		}
		else 
		{
			System.out.println("Regret !.No tickets available");
		}
		
	}
	public void displayMsg(int pnr)
	{
		System.out.println("Ticket Booked");
		System.out.println("PNR Number:"+pnr);	
	}
	public int getPNR()
	{
		Random r=new Random();
		int pnr=r.nextInt(1000000);
		return pnr;
	}
	public static void main()
	{
		
	}

}

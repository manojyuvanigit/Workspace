package process;

import process.Variables;
import java.util.*;

public class PrintTicket 
{
	LinkedHashMap<Integer, ArrayList<String>> mTickets=new LinkedHashMap<Integer,ArrayList<String>>();
	public void printAvailableTicket()
	{
		System.out.println("************AVAILABLE BUS TICKET************");
		System.out.println(java.time.LocalDateTime.now());
		System.out.println("____________________________________");
		System.out.println("Confiremed Bearth:"+(Variables.maxCnfTicket-Variables.countCnf));
		System.out.println("RAC:"+(Variables.maxRacTicket-Variables.countRac));
		System.out.println("Waiting List:"+(Variables.maxWlTicket-Variables.countWl));
		System.out.println("____________________________________");
		System.out.println("************************************");
	}
	public void printTicket()
	{
		System.out.println("Please enter your PRN to print the full ticket details");
		Scanner s=new Scanner(System.in);
		int pnr=s.nextInt();
		
		if(Variables.pnrMap!=null)
		{
			Set<Integer> keys=Variables.pnrMap.keySet();
			Iterator<Integer> iterator=keys.iterator();
			while(iterator.hasNext())
			{
				int tempPnr=iterator.next();
				String status=Variables.pnrMap.get(tempPnr);
				if(status=="CNF")
				{
					mTickets=Variables.ticketCnf;
				}
				else if(status=="RAC")
				{
					mTickets=Variables.ticketRac;
				}
				else if(status=="WL")
				{
					mTickets=Variables.ticketWl;
				}
			}
			if(mTickets!=null && mTickets.size()>0)
			{
				Set<Integer> keys1=mTickets.keySet();
				Iterator<Integer> value=keys1.iterator();
				while(value.hasNext())
				{
					int tempPnr=value.next();
					ArrayList<String> temp=mTickets.get(tempPnr);
					if(tempPnr==Integer.valueOf(temp.get(7)))
					{
						System.out.println("************TRAIN TICKET************");
						System.out.println(java.time.LocalDateTime.now());
						System.out.println("____________________________________");
						System.out.println("Name:"+temp.get(0));
						System.out.println("Age:"+temp.get(1));
						System.out.println("Gender:"+temp.get(2));
						System.out.println("Bus Name:"+temp.get(3));
						System.out.println("Seat:"+temp.get(4));
						System.out.println("Temperature:"+temp.get(5));
						System.out.println("Ticket Status:"+temp.get(6));
						System.out.println("PNR Number: "+temp.get(7));
						System.out.println("Seat Number:"+temp.get(8));
						System.out.println("____________________________________");
						System.out.println("************************************");
					}
				}
			}
			else
			{
				System.out.println("No tickets available under this PNR");
			}
			
		}
		
		if(Variables.pnrMap.containsKey(pnr))
		{
			String status=Variables.pnrMap.get(pnr);
			if(status=="CNF")
			{
				
			}
			else if(status=="RAC")
			{
				
			}
			else if(status=="WL")
			{
				
			}
		}
		
	}

}
